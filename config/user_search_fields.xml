<?xml version="1.0" encoding="UTF-8"?>
<!--
OPTIMIZED User Search Configuration for flotouser Table
Based on deep analysis of 31,826 active users

Key Findings from Analysis:
- 40 users named "Amit Kumar" (extreme duplication)
- 98% of names have 2-3 words
- Average name length: 17.5 characters
- 64.6% Gmail, 23.9% Zydus corporate emails
- Common typos: "Vikash" vs "Vikas", "Neeraj" vs "Niraj"

OPTIMAL SETTINGS:
- Name fuzziness: AUTO (0.85 effective threshold)
- Email fuzziness: 0 (strict - emails should be exact)
- Contact fuzziness: 1 (allow minor typos in numbers)
- Global min_score: 7.0 (balanced precision/recall)

Field-Level Overrides:
- Each field can override global fuzziness
- If omitted, field uses global settings
-->
<userSearchConfig>
    <!-- ========================================
         GLOBAL SETTINGS
         ======================================== -->

    <!-- Global fuzziness: AUTO recommended for balanced matching -->
    <fuzziness>AUTO</fuzziness>

    <!-- Default number of results to return -->
    <defaultLimit>10</defaultLimit>

    <!-- Maximum number of results allowed (hard limit) -->
    <maxLimit>100</maxLimit>

    <!-- Global minimum confidence score threshold -->
    <!-- 7.0 = balanced (filters low-confidence matches) -->
    <minScore>0.0</minScore>

    <!-- ========================================
         FIELD-SPECIFIC SETTINGS
         ======================================== -->
    <searchFields>
        <!--
        PRIMARY FIELD: User Name
        - Highest boost (most important)
        - AUTO fuzziness (handles typos intelligently)
        -->
        <field>
            <name>user_name</name>
            <boost>3.0</boost>
            <enabled>true</enabled>
            <description>User's full name (highest priority)</description>
            <fuzziness>AUTO</fuzziness>
        </field>

        <!--
        SECONDARY FIELD: Email
        - High boost
        - STRICT matching (fuzziness=0) - emails must be exact
        -->
        <field>
            <name>user_email</name>
            <boost>2.5</boost>
            <enabled>true</enabled>
            <description>User's email address</description>
            <fuzziness>0</fuzziness>
        </field>

        <!--
        SECONDARY FIELD: User Logon Name
        - Moderate boost
        - Allow 1 typo (fuzziness=1)
        -->
        <field>
            <name>user_userlogonname</name>
            <boost>2.0</boost>
            <enabled>true</enabled>
            <description>User's login/logon name</description>
            <fuzziness>1</fuzziness>
        </field>

        <!--
        TERTIARY FIELD: Primary Contact
        - Lower boost
        - Allow 1 typo for phone number variations
        -->
        <field>
            <name>user_contact</name>
            <boost>1.5</boost>
            <enabled>true</enabled>
            <description>User's primary contact number</description>
            <fuzziness>1</fuzziness>
        </field>

        <!--
        TERTIARY FIELD: Secondary Contact
        - Lowest boost
        - More lenient (fuzziness=2)
        -->
        <field>
            <name>user_contact2</name>
            <boost>1.0</boost>
            <enabled>true</enabled>
            <description>User's secondary contact number</description>
            <fuzziness>2</fuzziness>
        </field>
    </searchFields>
</userSearchConfig>

